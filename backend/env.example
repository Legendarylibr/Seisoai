# Database (REQUIRED)
MONGODB_URI=mongodb://localhost:27017/ai-image-generator

# FAL.ai API Configuration
FAL_API_KEY=your_fal_api_key_here

# FastAPI/ComfyUI Configuration (for free NFT users)
FASTAPI_URL=http://localhost:8000
FASTAPI_ENABLED=true

# Server Configuration
PORT=3001
NODE_ENV=development
# HOST binding (optional - defaults to 0.0.0.0 for cloud/production, 127.0.0.1 for local dev)
# Use 0.0.0.0 for cloud platforms (Railway, Heroku, etc.) - required for external access
# Use 127.0.0.1 for local development - safer, only accessible from localhost
# HOST=127.0.0.1

# CORS Configuration (REQUIRED IN PRODUCTION)
# SECURITY CRITICAL: You MUST set this in production!
# Leaving this empty or as '*' allows any website to make authenticated requests
# 
# For local development (HTTP allowed):
# ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
# 
# For production - MUST use HTTPS (HTTP origins will be rejected):
# ❌ WRONG: http://seisoai.com (will be rejected)
# ✅ CORRECT: https://seisoai.com
ALLOWED_ORIGINS=https://seisoai.com,https://www.seisoai.com

# Payment Wallets (REQUIRED - replace with your actual wallet addresses)
ETH_PAYMENT_WALLET=0x1234567890123456789012345678901234567890
POLYGON_PAYMENT_WALLET=0x1234567890123456789012345678901234567890
ARBITRUM_PAYMENT_WALLET=0x1234567890123456789012345678901234567890
OPTIMISM_PAYMENT_WALLET=0x1234567890123456789012345678901234567890
BASE_PAYMENT_WALLET=0x1234567890123456789012345678901234567890
SOLANA_PAYMENT_WALLET=So11111111111111111111111111111111111111112

# Alchemy API Key (REQUIRED - single key for all EVM chains + Solana)
# Get your API key from https://www.alchemy.com/
ALCHEMY_API_KEY=your_alchemy_api_key_here

# Monitoring Configuration
SENTRY_DSN=your_sentry_dsn_here

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
PAYMENT_RATE_LIMIT_WINDOW_MS=300000
PAYMENT_RATE_LIMIT_MAX_REQUESTS=10

# Security Configuration (CRITICAL - ALL REQUIRED IN PRODUCTION)
# 
# JWT_SECRET is REQUIRED (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-here-minimum-32-chars

# JWT_REFRESH_SECRET is optional (auto-derived from JWT_SECRET if not set)
# For extra security, set a separate secret for refresh tokens
# JWT_REFRESH_SECRET=your-separate-refresh-token-secret-here

# SESSION_SECRET for session management
SESSION_SECRET=your-session-secret-here

# ADMIN_SECRET is REQUIRED for admin routes (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_SECRET=your-admin-secret-minimum-32-characters-here

# Field-Level Encryption (REQUIRED for database breach protection)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Back this up securely - losing it means losing all encrypted data
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_PATH=logs/

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Performance Configuration
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000

# Redis Configuration (REQUIRED for production)
# Used for: token blacklist, rate limiting, session management
# Without Redis, these features fall back to in-memory storage (not suitable for production)
REDIS_URL=redis://localhost:6379

# Discord Bot API Key (REQUIRED for Discord account linking)
# Used to authenticate requests from the Discord bot to the backend
# Must be at least 32 characters
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT: This same key must be set in the Discord bot's environment
DISCORD_BOT_API_KEY=your-discord-bot-api-key-minimum-32-characters

# ============================================
# EMAIL SERVICE (for password reset)
# ============================================
# Resend API key (recommended) - https://resend.com
RESEND_API_KEY=re_your_resend_api_key
# From address for transactional emails
EMAIL_FROM=SeisoAI <noreply@seisoai.com>

# ============================================
# SECURITY ALERTING
# ============================================
# Discord webhook URL for security alerts (account lockouts, password resets, etc.)
# Create a webhook in your Discord server: Server Settings > Integrations > Webhooks
SECURITY_DISCORD_WEBHOOK=https://discord.com/api/webhooks/your-webhook-id/your-webhook-token

# ============================================
# ENTERPRISE CONFIGURATION
# ============================================

# Admin IP Allowlist (optional but recommended for production)
# Comma-separated list of IPs or CIDR ranges allowed to access /api/admin/* and /api/audit/*
# When enabled, admin routes are ONLY accessible from these IPs
# Leave disabled in development for easier testing
ENABLE_ADMIN_IP_ALLOWLIST=false
ADMIN_IP_ALLOWLIST=10.0.0.0/8,192.168.1.0/24,YOUR_OFFICE_IP

# Graceful Shutdown Configuration
# Maximum time to wait for in-flight requests to complete
SHUTDOWN_TIMEOUT_MS=30000
# Maximum time to wait for connections to drain
DRAIN_TIMEOUT_MS=10000